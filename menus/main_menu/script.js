// Helper function
// Generated using ChatGPT
function toDisplayName(programmingName) {
    // Replace hyphens or underscores with spaces
    let displayName = programmingName.replace(/[-_]/g, ' ');
    
    // Capitalize the first letter
    displayName = displayName.charAt(0).toUpperCase() + displayName.slice(1);
    
    return displayName;
}


// Get HTML elements
var gameDropdown = document.getElementById("game-select");
var startButton = document.getElementById("start-button");
var settingsButton = document.getElementById("settings-button");

// Buttons enable/disable event
gameDropdown.onchange = () => {
    if (gameDropdown.value == "-") {
        // If no game is selected, disable relevant buttons
        startButton.disabled = true;
        settingsButton.disabled = true;
    }
    else {
        // If a game is selected, enable relevant buttons
        startButton.disabled = false;
        settingsButton.disabled = false;
    }
}

// Setup game selection dropdown
async function setupGameDropdown() {
    // Get the list of existing games
    var gameList = await window.getGameList();

    // Add each one to the dropdown
    for (let i of gameList) {
        let option = document.createElement("option");
        option.text = toDisplayName(i);
        option.value = i;
        gameDropdown.appendChild(option);
    }
}
setupGameDropdown();

// Assign event listeners to the buttons
startButton.addEventListener("click", () => window.menuTransfer("launch", gameDropdown.value));
settingsButton.addEventListener("mousedown", (ev) => window.menuTransfer(ev.button, gameDropdown.value));





/* Generated by ChatGPT */
function createParticles() {
    const particleCount = 50;
    for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement("div");
        particle.classList.add("particle");
        document.body.appendChild(particle);
        // Position the particle randomly across the viewport
        particle.style.left = Math.random() * 100 + "vw";
        particle.style.top = Math.random() * 100 + "vh";
        // Set a random size between 2px and 6px for variety
        const size = Math.random() * 4 + 2;
        particle.style.width = size + "px";
        particle.style.height = size + "px";
        // Randomize the animation duration (between 3 and 8 seconds) and delay
        const duration = 3 + Math.random() * 5;
        particle.style.animationDuration = duration + "s";
        particle.style.animationDelay = Math.random() * duration + "s";
    }
}
createParticles();
